generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
  id         String   @id @default(uuid())
  username   String
  email      String   @unique
  password   String
  created_at DateTime @default(now())
}

model translator {
  id               String                            @id @default(uuid())
  username         String                            @unique
  email            String                            @unique
  password         String
  website          String
  translator_group String
  discord          String
  created_at       DateTime                          @default(now())
  connection       manga_and_translator_connection[]
}

model manga_data {
  id                 String                            @id @default(uuid())
  cover_image        String
  title              String
  alternative_titles String[]
  rating             Float                             @default(0.0)
  release_date       DateTime?
  description        String
  type               String
  status             String
  artists            String[]
  authors            String[]
  genres             String[]
  theme              String[]
  format             String[]
  publishers         String[]
  connection         manga_and_translator_connection[]
}

model manga_and_translator_connection {
  id            String     @default(uuid())
  manga_id      String
  translator_id String
  translator    translator @relation(fields: [translator_id], references: [id])
  manga_data    manga_data @relation(fields: [manga_id], references: [id])

  @@unique([manga_id, translator_id])
}
